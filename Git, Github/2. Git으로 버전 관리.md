-   깃 저장소 만들기

```
$ git init
```

\->깃을 사용할 수 있도록 디렉토리 초기화

\->해당 디렉토리에서 깃을 사용할 수 있게 된다.

---

-   버전 만들기

-   작업트리, 스테이지, 저장소

[##_Image|kage@c2hkJW/btqSLHn6Qjq/vntjlUVsFzvikug3nnsAn1/img.png|alignCenter|data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent"|||_##]

\- 작업 트리: 우리 눈에 보이는 디렉토리, 즉 파일을 수정, 저장하는 작업 공간

\- 스테이지: 버전으로 만들 파일들이 대기하는 공간

\- 저장소: 스테이지에서 대기하던 파일들을 버전으로 만들어 저장하는 공간

\- \[작업트리\]에서 문서 수정 ▶ 수정한 파일 중 버전으로 만들고 싶은 파일을 스테이징 ▶ 스테이지에 있던 파일을 저장소로

1.  문서를 수정

[##_Image|kage@cydRPX/btqSKMXxnRj/Znkd0MoYAjk9bZw0BSNUy1/img.png|alignCenter|data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent"|[작업 트리]에서 문서 수정||_##]

2.  수정한 파일을 스테이징하기

```
$ git add hello.txt
```

\-> hello.txt파일을 스테이징하기

```
$ git status
```

\-> 깃의 상태 확인

\-> 'untracked files:' 문구 ▶ 'changes to be committed:' 문구로 바뀜

\-> '앞으로 hello.txt를 커밋할 것이다'라는 뜻

[##_Image|kage@E04Tc/btqSLIm2aqe/M0YKZSI6mfJuHAJCtGFrWk/img.png|alignCenter|data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent"|[작업 트리]에서 add되어 [스테이지]에 추가됨||_##]

3.  스테이지에 올라온 파일 커밋하기

```
$ git commit -m "message1"
```

\-> 스테이지에 있는 문서들을 커밋하여 버전을 만든다.

\-> '-m 옵션'은 커밋과 함께 메시지를 저장할 수 있다.

```
$ git log
```

\-> 저장소에 저장된 모든 버전 확인

[##_Image|kage@dIYsTh/btqSSdzuYAr/VAR7Aufp1NbcrXKEEVfKn0/img.png|alignCenter|data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent"|commit으로 [스테이지]에 대기하던 파일이 [저장소]에 저장되면서 버전이 생성됨||_##]

-   스테이징과 커밋 한꺼번에 하기

```
$ git commit -am "message2"
```

\-> '-am 옵션'은 붙여 commit하면 스테이징과 커밋이 한꺼번에 된다.

---

-   커밋 내용 확인

```
$ git log
```

\-> 저장소에 저장된 모든 버전 확인

\-> (HEAD -> master): 이 버전이 가장 최신이라는 표시

```
$ git diff
```

\-> 작업 트리에 있는 파일과 스테이지에 있는 파일 OR 스테이지에 있는 파일과 저장소에 있는 최신 커밋을 비교해서 수정한 파일을 커밋전 최종 검토 할 수 있음

\-> 어떤 부분이 달라졌는지 볼 수 있음

---

-   버전 단계마다 파일 상태 알아보기

\- status에서 untracked 상태: 한번도 스테이징 or 커밋을(버전관리를) 하지 않은 파일

```
$ git log --stat
```

\-> 커밋에 관련된 파일까지 함께 보기위해 '--stat 옵션' 추가

※ 로그 메시지가 너무 많을 경우 화면으로 나눠서 보여줌

▶ 'enter': 다음 로그 화면으로 이동, 'Q 입력': 로그 화면 빠져나옴

[##_Image|kage@b0jJOr/btqSQ52TL7y/9XODMVkGPYy21a7EBRg9R1/img.png|alignCenter|data-origin-width="0" data-origin-height="0" data-ke-mobilestyle="widthContent"|파일의 상태 변화||_##]

\- tracked: 한 번이라고 버전을 만들었던 파일 상태

\- untracked: 한번도 버전을 만들지 않은 파일

\- unmodified: 버전을 저장한 뒤 아무것도 수정하지 않은 상태 OR 커밋을 한 상태

\- modified: 파일이 작업 트리에서 수정된 상태, BUT 아직 스테이지에 올라가진 않음

\- staged: add명령으로 수정 파일이 스테이지에 올라간 상태

---

-   작업 되돌리기
    
-   \[작업 트리\]에서 수정한 파일 되돌리기
    

```
$ git checkout -- hello.txt
```

\-> 작업 트리에서 수정했던 일이 되돌려진다.

-   \[스테이징\] 되돌리기

스테이징을 한 후 아래 코드 작성

```
$ git reset HEAD hello.txt
```

\-> 스테이징 상태였던 hello.txt가 not staged 상태가 된다.

\-> 스테이징에서 사라진다.

\-> HEAD 뒤에 파일 이름을 지정하지 않으면 스테이지에 있는 모든 파일을 되돌린다.

-   최신 \[커밋\] 되돌리기

```
$ git reset HEAD^
```

\-> 최신 커밋도 취소되고 스테이지에서도 내려진다. 취소한 파일이 작업 트리에만 남는다.

\-> HEAD^: 현재 HEAD가 가리키는 브랜치의 최신 커밋

-   특정 커밋으로 되돌리기

```
$ git reset --hard 원하는 커밋의 해시
```

\->'원하는 커밋의 해시' 커밋으로 이동하고, 이후 커밋들이 삭제된다.

\-> 파일 내용도 '원하는 커밋의 해시' 커밋 내용으로 바뀐다.

※ '원하는 커밋의 해시'를 A라 하면, A을 최근 커밋으로 리셋한다. 즉, A를 삭제하는 것이 아니라 A 커밋 이후에 만들었던 커밋을 삭제한다.

-   커밋 삭제하지 않고 되돌리기

```
$ git revert 취소하고 싶은 커밋의 해시
```

```
//만약 commit이 commit1, commit2, commit3, commit4가 있다고 하자.
//commit2로 가기 위해선

$ git revert [commit3의 커밋 해시]

//를 해야지 commit2로 돌아간다
```

\-> 명령을 실행하면 편집기가 실행되어 revert하면서 추가로 남겨둘 내용을 입력하고 저장한다.

\-> 이때 vim을 사용하는 방법과 같다

\-> reset 명령과 다르게 'commit2' 이후의 commit들도 삭제되지 않고, revert한 커밋도 만들어진다.
